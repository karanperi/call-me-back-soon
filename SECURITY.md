# Security Policy

## Supported Versions

| Version | Supported          |
| ------- | ------------------ |
| 0.1.x   | :white_check_mark: |

## Reporting a Vulnerability

We take the security of Yaad seriously. If you discover a security vulnerability, please follow these steps:

### Do NOT

- Open a public GitHub issue for security vulnerabilities
- Post details about the vulnerability publicly
- Exploit the vulnerability beyond what's necessary to demonstrate it

### Do

1. **Report via GitHub**: Use [GitHub Security Advisories](https://github.com/karanperi/call-me-back-soon/security/advisories/new) to privately report a vulnerability
2. **Include**:
   - Description of the vulnerability
   - Steps to reproduce
   - Potential impact
   - Suggested fix (if any)

### What to Expect

- **Acknowledgment**: Within 48 hours
- **Initial Assessment**: Within 1 week
- **Resolution Timeline**: Depends on severity
- **Credit**: With your permission, we'll credit you in our changelog

## Security Best Practices

When contributing to or deploying Yaad:

### Environment Variables

- Never commit `.env` files with real credentials
- Use Supabase secrets for edge functions
- Rotate API keys periodically

### Authentication

- Always use HTTPS
- Implement proper session management
- Use strong password requirements
- All user-facing edge functions require JWT authentication

### Data Protection

- Enable Row Level Security (RLS) on all tables
- Validate all user input
- Use parameterized queries (handled by Supabase)
- Sensitive data is sanitized from edge function logs

### API Security

- Validate authorization headers (JWT or X-Cron-Secret)
- Implement rate limiting
- Use signed URLs for sensitive resources

### Phone Number Handling

- Store in E.164 format only
- Validate format before processing
- Don't expose phone numbers in logs

## Known Security Considerations

### Voice Data

- Audio files generated by ElevenLabs have signed URLs with expiration (1-hour)
- No voice data is permanently stored client-side

### Third-Party Services

- **Twilio** handles call encryption and telephony security
- **ElevenLabs** processes text-to-speech data
- **Deepgram** processes speech-to-text audio streams (real-time, not stored)
- **Anthropic** processes natural language text for reminder parsing (not stored)
- **Supabase** manages data encryption at rest and in transit

## Security Headers

The application implements:
- Content Security Policy (CSP)
- X-Frame-Options
- X-Content-Type-Options
- Referrer-Policy

## Incident Response

In case of a security incident:

1. We will notify affected users within 72 hours
2. We will provide remediation steps
3. We will publish a post-mortem (without sensitive details)

## Contact

For security concerns:
- Use [GitHub Security Advisories](https://github.com/karanperi/call-me-back-soon/security/advisories/new)
- Response time: 48 hours

Thank you for helping keep Yaad secure!
